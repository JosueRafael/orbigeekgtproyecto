
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ORBIGEEK_GT</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
  <header>
      <nav class="container-fluid">
          <div class="row">
              <!-- Logo y menú a la izquierda -->
              <div class="col-md-2 menu_nav">
                  <div class="logo_img">
                      <img class="logo_header" src="assets/img/logo.jpg" alt="Logo">
                  </div>
                  <ul class="nav flex-column mt-3">
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="tecnicoBtn" [routerLink]="['/registrotecnico']">
                              <i class="fa-solid fa-store"></i> Administrar Tecnicos
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="productosBtn">
                              <i class="fa-solid fa-store"></i> Agregar Productos
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="ticketsBtn">
                              <i class="fa-solid fa-list"></i> Tickets
                          </a>
                      </li>
                  </ul>
                  <ul class="nav flex-column mt-auto mb-10">
                    <li class="nav-item">
                        <a class="nav-link link text-danger" href="#" (click)="onLogout()">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </a>
                    </li>
                </ul>
              </div>

              <!-- Espacio para la información a la derecha -->
              <div class="col-md-10">
                <div class="admin-productos-container">
                  <div class="formulario-container">
                    <h2 class="admin-productos-title">Agregar Nuevo Producto</h2>

                    <form class="admin-productos-form" (ngSubmit)="agregarProducto()">
                      <div class="form-group">
                        <label for="nombre">Nombre del Producto</label>
                        <input type="text" [(ngModel)]="nombre" name="nombre" required>
                      </div>
                      <div class="form-group">
                        <label for="precio">Precio</label>
                        <input type="number" [(ngModel)]="precio" name="precio" required>
                      </div>
                      <div class="form-group">
                        <label for="cantidad">Cantidad en Stock</label>
                        <input type="number" [(ngModel)]="cantidad" name="cantidad" required>
                      </div>
                      <div class="form-group">
                        <label for="categoria">Categoría</label>
                        <input type="text" [(ngModel)]="categoria" name="categoria" required>
                      </div>
                      <div class="form-group">
                        <label for="descripcion">Descripción</label>
                        <textarea [(ngModel)]="descripcion" name="descripcion" rows="3" required></textarea>
                      </div>

                      <button type="submit" class="btn-submit">Registrar Producto</button>
                      <div *ngIf="mensaje" [class]="mensajeClass">{{ mensaje }}</div>
                    </form>
                  </div>

                  <!-- Lista de productos en tiempo real -->
                <!-- Lista de productos en tiempo real -->
                <div class="productos-container">
                  <h2 class="productos-title">Lista de Productos</h2>
                  <table class="productos-table">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Acciones</th> <!-- Nueva columna para acciones -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let producto of productos">
                        <td>{{ producto.nombre }}</td>
                        <td>{{ producto.precio | currency }}</td>
                        <td>{{ producto.cantidad }}</td>
                        <td>
                          <i class="fas fa-edit btn-action" (click)="editarProducto(producto)"></i> <!-- Ícono de editar -->
                          <i class="fas fa-trash btn-action" (click)="eliminarProducto(producto.id)"></i> <!-- Ícono de eliminar -->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                </div>
              </div>
          </div>
      </nav>
  </header>

