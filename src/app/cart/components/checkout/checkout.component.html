<div class="checkout-container">
  <div class="row">
    <div class="col-8">
      <h2>Cart Checkout</h2>
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Nombre</th>
            <th>Marca</th>
            <th>Tipo</th>
            <th>Precio</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.brand }}</td>
            <td>{{ product.type }}</td>
            <td>Q {{ product.price }}</td>
            <td><button class="btn btn-danger" (click)="removeProduct(i)">Eliminar</button></td>
          </tr>
        </tbody>
      </table>

      <h3>Precio Total: Q {{ totalPrice }}</h3>
    </div>

    <div class="col-4">
      <div class="payment-panel">
        <h3>Detalles de la Tarjeta</h3>
        <div class="form-group">
          <label for="card-name">Nombre en la tarjeta</label>
          <input id="card-name" type="text" class="form-control" placeholder="Nombre" [(ngModel)]="cardName">
        </div>

        <div class="form-group">
          <label for="card-number">Número de Tarjeta</label>
          <input id="card-number" type="text" class="form-control" placeholder="0000 0000 0000 0000" [(ngModel)]="cardNumber" maxlength="16">
        </div>

        <div class="form-group row">
          <div class="col-6">
            <label for="card-expiry">Fecha de Expiración</label>
            <input id="card-expiry" type="text" class="form-control" placeholder="MM/YY" [(ngModel)]="cardExpiry" maxlength="5">
          </div>
          <div class="col-6">
            <label for="card-cvv">CVV</label>
            <input id="card-cvv" type="text" class="form-control" placeholder="CVV" [(ngModel)]="cardCVV" maxlength="3">
          </div>
        </div>

        <hr>

        <h4>Total a Pagar: Q {{ totalPrice }}</h4>

        <button class="btn btn-danger btn-block" (click)="placeOrder()" [disabled]="!isCardValid()">Ordenar</button>

        <div *ngIf="orderMessage" class="mt-3">
          <p>{{ orderMessage }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
