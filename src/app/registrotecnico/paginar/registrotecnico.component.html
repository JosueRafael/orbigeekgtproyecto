
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ORBIGEEK_GT</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
  <header>
      <nav class="container-fluid">
          <div class="row">
              <!-- Logo y menú a la izquierda -->
              <div class="col-md-2 menu_nav">
                  <div class="logo_img">
                      <img class="logo_header" src="assets/img/logo.jpg" alt="Logo">
                  </div>
                  <ul class="nav flex-column mt-3">
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="tecnicoBtn" [routerLink]="['/registrotecnico']">
                              <i class="fa-solid fa-store"></i> Administrar Tecnicos
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="productosBtn" [routerLink]="['/adminproductos']">
                              <i class="fa-solid fa-store" ></i> Agregar Productos
                          </a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link link" href="#" id="ticketsBtn">
                              <i class="fa-solid fa-list"></i> Tickets
                          </a>
                      </li>


                  </ul>
                  <ul class="nav flex-column mt-auto mb-10">
                    <li class="nav-item">
                        <a class="nav-link link text-danger" href="#" (click)="onLogout()">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </a>
                    </li>
                </ul>
              </div>

              <!-- Espacio para la información a la derecha -->
              <div class="col-md-10">
                <div class="admin-productos-container">
                  <div class="formulario-container">
                    <h2 class="admin-productos-title">Registrar Tecnico</h2>

                    <form class="admin-productos-form">
                      <div class="form-field">
                        <label for="nombre">Nombre</label>
                        <input type="text" id="name" name="name" [(ngModel)]="name" placeholder="Nombre">
                      </div>

                      <div class="form-field">
                        <label for="correo">Correo</label>
                        <input type="email" id="correo" name="correo" [(ngModel)]="email" placeholder="Correo">
                        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
                      </div>

                      <div class="form-field password-toggle">
                        <label for="contrasena">Contraseña</label>
                        <input type="password" id="contrasena" name="contrasena" [(ngModel)]="password" (input)="validatePassword()" placeholder="Contraseña">
                        <span class="toggle-icon" (click)="togglePasswordVisibility()">
                          <i [class]="passwordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
                        </span>
                      </div>

                      <div class="password-requirements">
                        <label [class.valid]="hasUpperCase" id="uppercaseLabel">
                          <input type="checkbox" id="uppercaseCheck" [checked]="hasUpperCase" disabled>
                          Al menos una mayúscula
                        </label>
                        <label [class.valid]="hasLowerCase" id="lowercaseLabel">
                          <input type="checkbox" id="lowercaseCheck" [checked]="hasLowerCase" disabled>
                          Al menos una minúscula
                        </label>
                        <label [class.valid]="hasNumber" id="numberLabel">
                          <input type="checkbox" id="numberCheck" [checked]="hasNumber" disabled>
                          Al menos un número
                        </label>
                        <label [class.valid]="hasMinLength" id="minLengthLabel">
                          <input type="checkbox" id="minLengthCheck" [checked]="hasMinLength" disabled>
                          Al menos 8 caracteres
                        </label>
                      </div>

                      <div class="form-field password-toggle">
                        <label for="contrasena-confirm">Confirmar Contraseña</label>
                        <input [type]="showPassword ? 'text' : 'password'" id="contrasena-confirm" name="contrasenaConfirm" [(ngModel)]="confirmPassword" placeholder="Confirmar Contraseña">
                        <span class="toggle-icon" (click)="toggleConfirmPasswordVisibility()">
                          <i [class]="confirmPasswordVisible ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
                        </span>
                      </div>

                      <button class="registration-button" (click)="register()">Registrar</button>
                      <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>
                    </form>

                  </div>

                <!-- Lista de tecnicos en tiempo real -->
                <div class="productos-container">
                  <h2 class="productos-title">Lista de Técnicos</h2>
                  <table class="productos-table">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Acciones</th> <!-- Nueva columna para acciones -->
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Recorre la lista de técnicos y muestra cada uno en una fila -->
                      <tr *ngFor="let tecnico of tecnicos">
                        <td>{{ tecnico.name }}</td>
                        <td>{{ tecnico.email }}</td>
                        <td>
                          <i class="fas fa-trash btn-action" (click)="eliminarTecnico(tecnico.id)"></i> <!-- Ícono de eliminar -->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>




                </div>
              </div>
          </div>
      </nav>
  </header>


</body>
